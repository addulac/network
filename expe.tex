\section{Experimental study}

To illustrate our theoretical results, we evaluate the ability of the models to capture homophily and preferential attachment on artificial and real networks.  We fit the models on the datasets and then, we track how well the models can reproduce the properties on the generated networks. In this view, using the same indicators, we compare the values computed respectively on the original network and on the generated network.

\subsection{Properties evaluation}

\textit{Homophily Indicators}

To evaluate homophily, we use the measures introduced by \cite{largeron2015}, adapted from the test proposed by \cite{Easley2010}.  This test compares an expected homophily measure corresponding to the probability for two vertices to be similar with an observed homophily measure defined as the probability that two linked vertices are similar. More precisely, given a contingency table defined as follows:

$a = Card\{(i,j)\in V\times (V-1) / (i,j) \in E \land s(i,j)\}$\\
$b = Card\{(i,j)\in V\times (V-1) / (i,j) \in E \land \neg{s(i,j)}\}$\\ 
$c = Card\{(i,j)\in V\times (V-1) / (i,j) \notin E \land s(i,j)\}$\\
$d = Card\{(i,j)\in V\times (V-1) / (i,j) \notin E \land \neg{s(i,j)}\}$\\
%$\frac{N*(N-1)}{2}$ is the total count of  the cells in the contingency table.\\

where  s(i,j) indicates that i and j are considered as similar, observed homophily, denoted $H_{obs}$, is given by $\frac{a}{a+b}$.\\
This measure  is equal to 1 when all the pairs of linked vertices are similar. Consequently, high values suggest an homophily effect.

Moreover, $H_{obs}$ can be compared with an expected measure, $H_{expec}$, defined by  $ \frac{a+c}{a+b+c+d}$.\\

If the expected measure is significantly less than the observed measure, then there is evidence for homophily.\\

\textit{Preferential attachment}

Preferential attachment leads to networks characterized by a degree distribution with a heavy tail which can be approximated by a power law. To evaluate this property, we  plot the degree distributions in log log scale for the original network and the generated network.

\subsection{Datasets}
To demonstrate the potential of the models to generate graphs verifying properties occurring in original networks, we consider four artificial networks and two real networks.\\

\textit{Artificial networks}

The artificial networks have been generated with ANC-Generator \cite{largeron2015}. This generator has been chosen because it allows to build attributed graphs with community structure faithfully following the known properties of real-world networks such as preferential attachment and homophily. 
\textbf{ ARV peut on faire le lien ici entre les facteurs latents et les attributs - communaut√©s ? }.
Moreover, by modifying the parameters, these properties can be weakened. Finally, ANC-Generator is available under the terms of the GNU Public Licence and the parameters can be shared for experiments reproducibility. 

Four artificial networks have been generated, each one corresponding to a configuration  regarding the properties of interest.
Both properties are verified in the first one ($Network1$) whereas none of them is checked in the $Network4$.  There is only an evidence for homophily in the network $Network2$ and  preferential attachment in the network  $Network3$. Table 1 summarizes these four configurations. \\ 

\textbf{Ajouter parametrage}  

% \textit{Real networks}
\textit{Real networks}

We evaluate also the models on two  real networks.
The first one \footnote{available at:} is built from an online community of 1899 students from the University of California. Each node corresponds to a user and a directed edge represents a sent message. 
The second one \footnote{available at:} is an internal email communication network between employees of a mid-sized manufacturing company. Each vertex is associated to an employee and an oriented link represents like previously a sent email.

Table 1 summarizes basic characteristics of these synthetic and real datasets \textbf{ Mettre nombre de sommets, de liens}.
%Our experiments evaluate the preferential attachment and the local preferential attachment on the learned communities trough respectively the distribution of degrees in the networks and inside the communities.
%\begin{figure}[h]
%	\centering
%	\includegraphics[scale=0.8]{../figures/img/prop/gen3_order_immsb_10}
%	\caption{\textbf{Adjacency matrices re-ordered according to the detected communities}}
%	\label{fig:}
%\end{figure}
%
%
%\begin{figure}[h]
%	\centering
%	
%		\minipage{0.5\textwidth}
%			\includegraphics[scale=0.4]{../figures/img/prop/gen3_com_immsb_4}
%		\endminipage
%		\minipage{0.5\textwidth}
%			\includegraphics[scale=0.4]{../figures/img/prop/gen3_com_immsb_10}
%			\endminipage
%
%	\caption{\textbf{Distribution of communities size for the class based model. The left figure correspond to number of class K=4, and the right figure correspond to K=10. The power law do not appear strongly }}
%	\label{fig:}
%\end{figure}
%
%\begin{figure}[h]
%	\centering
%	
%	\minipage{0.5\textwidth}
%	\includegraphics[scale=0.4]{../figures/img/prop/gen3_global_deg_immsb_4}
%	\endminipage
%	\minipage{0.5\textwidth}
%	\includegraphics[scale=0.4]{../figures/img/prop/gen3_global_deg_immsb_10}
%	\endminipage
%	
%	\caption{\textbf{Distribution of degree for the class based model. The left figure correspond to number of class K=4, and the right figure correspond to K=10. It appears that the model is able to capture the power law.}}
%	\label{fig:}
%\end{figure}
%
%\begin{figure}[h]
%	\centering
%	\includegraphics[scale=0.9]{../figures/img/prop/gen3_local_deg_immsb_4}
%	\caption{\textbf{Local degree distribution for 3 communities for a total of 4 classes.}}
%	\label{fig:}
%\end{figure}
%
%\begin{figure}[h]
%	\centering
%	\includegraphics[scale=0.9]{../figures/img/prop/gen3_local_deg_immsb_10}
%	\caption{\textbf{Local degree distribution for 3 communities for a total of 10 classes.}}
%	\label{fig:}
%\end{figure}
%
%
%%class based on 
%%10 classes:
%%Precision global 0.9900621488, local: 0.038679245283 , Rappel 0.0400390625
%%4 classes:
%%Precision global 0.98990976619, local: 0.0280898876404 , Rappel 0.0295275590551
%
%%IBP: K=46
%%Precision global 0.990138852919, local: 0.0488721804511 , Rappel 0.0509803921569
%
%
\clearpage
